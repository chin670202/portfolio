const u={zh:["上漲","大漲","飆漲","暴漲","創新高","突破","利多","利好","獲利","盈餘","成長","增長","擴張","併購","投資","合作","訂單","營收","業績","看好","樂觀","回升","反彈","強勢","買進","加碼","上調","升評","推薦","目標價","新產品","技術突破","市占率","擴產","滿載","爆單","需求強勁"],en:["surge","soar","rally","gain","rise","up","high","record","bullish","optimistic","growth","profit","earnings","beat","upgrade","buy","outperform","strong","expand","acquisition","partnership","deal","contract","order","revenue","breakthrough","innovation","launch","demand","positive"]},d={zh:["下跌","暴跌","崩盤","跳水","虧損","裁員","訴訟","警示","違約","破產","倒閉","負債","調查","罰款","召回","危機","風險","下修","降評","減產","停工","延遲","取消","衰退","萎縮","利空","看壞","悲觀","賣出","減碼","套牢","斷頭","跌破","新低","恐慌","拋售","出貨","獲利了結"],en:["drop","fall","plunge","crash","decline","down","low","loss","bearish","pessimistic","miss","layoff","lawsuit","investigation","fine","recall","bankruptcy","default","debt","risk","crisis","downgrade","sell","underperform","weak","cut","delay","cancel","recession","slowdown","warning","negative","concern"]};class f{constructor(){this.bullishKeywords=[...u.zh,...u.en],this.bearishKeywords=[...d.zh,...d.en]}isReady(){return!0}getInfo(){return{type:"keywords",bullishCount:this.bullishKeywords.length,bearishCount:this.bearishKeywords.length}}async analyze(e){if(!e||typeof e!="string")return{sentiment:"neutral",confidence:0,label:"中立"};const s=e.toLowerCase();let i=0,t=0;const o=[],a=[];for(const n of this.bullishKeywords)s.includes(n.toLowerCase())&&(i++,o.push(n));for(const n of this.bearishKeywords)s.includes(n.toLowerCase())&&(t++,a.push(n));const r=i+t;if(r===0)return{sentiment:"neutral",confidence:0,label:"中立"};const c=i/r,h=t/r,l=Math.min(r/5,1);return c>.6?{sentiment:"bullish",confidence:l*c,label:"看漲",keywords:o}:h>.6?{sentiment:"bearish",confidence:l*h,label:"看跌",keywords:a}:{sentiment:"neutral",confidence:l*.5,label:"中立",keywords:[...o,...a]}}async analyzeBatch(e){return Array.isArray(e)?Promise.all(e.map(s=>this.analyze(s))):[]}}export{d as BEARISH_KEYWORDS,u as BULLISH_KEYWORDS,f as KeywordsEngine};
